<div class="page-header">
  <h1>Newspaper Articles</h1>
  <% if can_write? %>
    <%= link_to "Add Article", new_article_path, class: "btn btn-gold" %>
  <% end %>
</div>

<% if @articles.any? %>
  <div class="table-container">
    <table>
      <thead>
        <tr>
          <th>Title</th>
          <th>Publication</th>
          <th>Date</th>
          <th>Entries</th>
          <th>Characters</th>
          <% if can_write? %>
            <th>Actions</th>
          <% end %>
        </tr>
      </thead>
      <tbody>
        <% @articles.each do |article| %>
          <tr>
            <td><%= link_to article.title, article %></td>
            <td><%= article.publication %></td>
            <td><%= article.publication_date&.strftime("%b %d, %Y") %></td>
            <td><%= article.entries.count %></td>
            <td><%= article.characters.count %></td>
            <% if can_write? %>
              <td class="actions">
                <%= link_to "Edit", edit_article_path(article), class: "btn btn-small btn-secondary" %>
                <%= link_to "Delete", article, data: { turbo_method: :delete, turbo_confirm: "Are you sure?" }, class: "btn btn-small btn-danger" %>
              </td>
            <% end %>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
<% else %>
  <div class="empty-state">
    <h3>No Articles Yet</h3>
    <p>Start adding newspaper articles related to your research.</p>
    <% if can_write? %>
      <%= link_to "Add Your First Article", new_article_path, class: "btn btn-gold" %>
    <% end %>
  </div>
<% end %>
