<div class="page-header">
  <h1>Production Credits</h1>
  <%= link_to "Add Credit", new_credit_path, class: "btn btn-gold" %>
</div>

<% if @credits.any? %>
  <div class="grid">
    <% @credits.each do |credit| %>
      <div class="card">
        <div class="card-header">
          <h3 class="card-title"><%= link_to credit.title, credit %></h3>
          <% if credit.priority.present? %>
            <span class="tag">#<%= credit.priority %></span>
          <% end %>
        </div>
        <div class="card-body">
          <% if credit.description.present? %>
            <p><%= truncate(credit.description, length: 150) %></p>
          <% end %>
          <p class="card-meta"><%= credit.credit_candidates.count %> candidates</p>
        </div>
        <div class="card-footer">
          <%= link_to "View", credit, class: "btn btn-small btn-primary" %>
          <%= link_to "Edit", edit_credit_path(credit), class: "btn btn-small btn-secondary" %>
          <%= link_to "Delete", credit, data: { turbo_method: :delete, turbo_confirm: "Are you sure?" }, class: "btn btn-small btn-danger" %>
        </div>
      </div>
    <% end %>
  </div>
<% else %>
  <div class="empty-state">
    <h3>No Credits Yet</h3>
    <p>Start adding production credits like Director, Producer, Writer, etc.</p>
    <%= link_to "Add Your First Credit", new_credit_path, class: "btn btn-gold" %>
  </div>
<% end %>
